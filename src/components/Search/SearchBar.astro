---
import type Post from "@entities/Post";
import SearchBarInternal from "./SearchBarInternal.svelte";

const data: Post[] = (await Astro.glob<Post>("../../content/blog/*.md")).map(
  data => data.frontmatter
);
const posts =
  data.length === 1 && process.env.NODE_ENV === "development"
    ? Array(16).fill(data[0])
    : data.sort(
        (a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf()
      );
---

<SearchBarInternal client:only="svelte" data={posts} />
